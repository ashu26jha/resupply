# Disclosure: Voting Power Delay due to Voter Querying Incorrect Epoch

**Date:** 2025-05-14  
**Severity:** Low  
**Impact:** Unintended voting power delay  
**Status:** Resolved via voter contract replacement

---

## Summary

- An unintented extra delay on voting power accumulation for stakers was identified due to redundant logic between the original `Voter.sol` [[1]](#References) and `GovStaker.sol` [[2]](#References) contracts.
- The issue, located in the Voter.sol, forces users to unnecessarily wait an additional one full epoch before receiving the associated voting power.
- A fixed contract was deployed and governance proposal has been queued.
- No user action is required.
- All funds remain safe.

## Technical Overview

- Resupply governance is designed to grant voting power to stakers starting the epoch immediately following the stake.
- The `GovStaker` contract enforces this requirement correctly.
- However, the original `Voter` contract redundantly queried vote power at `current_epoch - 1`, having the effect of duplicating the offset which is already enforced in `GovStaker`.
- As a result, voting power in the original voter is actually based on a user's stake `current_epoch - 2`, which is inconsistent with the intended behavior.
- Further, this offset has the drawback of allowing users who have fully unstaked up to nearly two epochs ago to retain voting power.

## Remediation

- A fix was implemented on `Voter.sol` [[3]](#References) to remove the unnecessary 1 epoch offset.
- New Voter contract was deployed [[4]]().
- A proposal to replace the original `Voter` was queued on the current voter.
- Assuming the proposal passes, all prior proposals on the original voter will be eligible for execution until the voter replacement is executed on chain.

## Impact

- New voter deployed and registry updated [[3]](#References).
- No user action is required beyond governance votes.
- No funds at risk.

## References

1. https://etherscan.io/address/0x11111111084a560ea5755Ed904a57e5411888C28
2. https://etherscan.io/address/0x22222222E9fE38F6f1FC8C61b25228adB4D8B953
3. https://etherscan.io/address/0x11111111408bd67B92C4f74B9D3cF96f1fa412BC

## Credits

Identified and resolved by the Resupply core team.
